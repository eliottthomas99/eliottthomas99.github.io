
<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <title>Eliott THOMAS</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
    
    <!--script src="script.js"></script-->
    <script>
        var canvas;
        var ctx;

        class Carre {
            constructor(x, y, side, color, velocityx,velocityy, delay){
                this.x = x;
                this.y = y;
                this.side = side;
                this.color = color;
                this.velocityx = velocityx;
                this.velocityy = velocityy;
                this.delay = delay;
            }

            clear(){
                ctx.clearRect(this.x, this.y, this.side, this.side);
            }

            update(){
                if(this.delay <= 0){
                    this.x += this.velocityx;
                    this.y += this.velocityy;
                }
                else {
                    (this.delay)--;
                }

                if (this.x + this.side >= canvas.width){
                    this.velocityx*=-1;
                    this.velocityx+=Math.round(Math.random()) * 2 - 1; //add -1 or 1
                }
                else if (this.x <= 0){
                    this.velocityx*=-1;
                    this.velocityx+=Math.round(Math.random()) * 2 - 1; //add -1 or 1
                }

                if (this.y + this.side >= canvas.height){
                    this.velocityy*=-1;
                    this.velocityy+=Math.round(Math.random()) * 2 - 1; //add -1 or 1
                }
                else if (this.y <= 0){
                    this.velocityy*=-1;
                    this.velocityy+=Math.round(Math.random()) * 2 - 1; //add -1 or 1
                }


            }

            draw(){
                if(this.delay <= 0){
                    ctx.fillStyle = this.color;
                    ctx.fillRect(this.x, this.y, this.side, this.side);
                }
            }

        }

        var carre1 = new Carre(0, 275, 50, "red", 10,5, 0);
        var carre2 = new Carre(0, 275, 50, "yellow", 10,5, 10);
        var carre3 = new Carre(0, 275, 50, "black", 10,5, 20);

        var initSquareIntervId;
        var drawSquareIntervId;

        // var timerInt = 10;
        // var timerIntervId;

        function init(){
            canvas = document.getElementById("canvas");
            ctx = canvas.getContext("2d");
            // delay 4000 ms
            initSquareIntervId = setInterval(initDelay, 2000);
        }

        function initDelay(){
            clearInterval(initSquareIntervId);
            // moving the square
            drawSquareIntervId = setInterval(drawMovingSquare, 100);
        }


        function drawMovingSquare(){
            carre1.clear();
            carre3.clear();
            carre2.clear();

            carre1.update();
            carre2.update();
            carre3.update();

            carre1.draw();
            carre2.draw();
            carre3.draw();

            
        }


        /** merci google */
        function sleep(miliseconds){
            var waitUntil = new Date().getTime() + miliseconds;
            while(new Date().getTime() < waitUntil) true;
        }

    </script>
    
</head>

<body onload="init()">

    <header>
        <h1>Eliott THOMAS</h1>
    </header>

    <nav>
        <ul>
            <li><a href="../../dynamique.html">Lien 1</a></li>
            <li><a href="../../quiSuisje.html">Qui suis-je ?</a></li>
            <li><a href="../../index.html">Acccueil</a></li>
        </ul>

    </nav>

    <main>
        <article>
          <h2>dynamique</h2>

          <canvas id="canvas" width="800" height="600"></canvas>
          
        </article>
  
        <aside>
          <h2>Ressources</h2>
          <ul>
            <li><a href="../../TP JS/Again/help.html">exemple 1</a></li>
            <li><a href="../../English_CV_Eliott_THOMAS.pdf">English CV</a></li>
            <li><a href="https://github.com/eliottthomas99">GITHUB</a></li>
            <li><a href="https://www.linkedin.com/in/eliott-thomas-a7b420193/">LINKEDIN</a></li>
            
          </ul>
        </aside>
  
      </main>
    

    <!--div id="timer">10</div-->

</body>
</html>
